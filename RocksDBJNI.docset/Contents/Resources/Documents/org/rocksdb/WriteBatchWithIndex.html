<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Tue Nov 27 00:05:52 MYT 2018 -->
<title>WriteBatchWithIndex</title>
<meta name="date" content="2018-11-27">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WriteBatchWithIndex";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/rocksdb/WriteBatchInterface.html" title="interface in org.rocksdb"><span class="strong">Prev Class</span></a></li>
<li><a href="../../org/rocksdb/WriteOptions.html" title="class in org.rocksdb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/rocksdb/WriteBatchWithIndex.html" target="_top">Frames</a></li>
<li><a href="WriteBatchWithIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.rocksdb.RocksObject">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.rocksdb</div>
<h2 title="Class WriteBatchWithIndex" class="title">Class WriteBatchWithIndex</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../org/rocksdb/AbstractNativeReference.html" title="class in org.rocksdb">org.rocksdb.AbstractNativeReference</a></li>
<li>
<ul class="inheritance">
<li><a href="../../org/rocksdb/AbstractImmutableNativeReference.html" title="class in org.rocksdb">org.rocksdb.AbstractImmutableNativeReference</a></li>
<li>
<ul class="inheritance">
<li><a href="../../org/rocksdb/RocksObject.html" title="class in org.rocksdb">org.rocksdb.RocksObject</a></li>
<li>
<ul class="inheritance">
<li><a href="../../org/rocksdb/AbstractWriteBatch.html" title="class in org.rocksdb">org.rocksdb.AbstractWriteBatch</a></li>
<li>
<ul class="inheritance">
<li>org.rocksdb.WriteBatchWithIndex</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.AutoCloseable, <a href="../../org/rocksdb/WriteBatchInterface.html" title="interface in org.rocksdb">WriteBatchInterface</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">WriteBatchWithIndex</span>
extends <a href="../../org/rocksdb/AbstractWriteBatch.html" title="class in org.rocksdb">AbstractWriteBatch</a></pre>
<div class="block">Similar to <a href="../../org/rocksdb/WriteBatch.html" title="class in org.rocksdb"><code>WriteBatch</code></a> but with a binary searchable
 index built for all the keys inserted.

 Calling put, merge, remove or putLogData calls the same function
 as with <a href="../../org/rocksdb/WriteBatch.html" title="class in org.rocksdb"><code>WriteBatch</code></a> whilst also building an index.

 A user can call <a href="../../org/rocksdb/WriteBatchWithIndex.html#newIterator()"><code>newIterator()</code></a> to
 create an iterator over the write batch or
 <a href="../../org/rocksdb/WriteBatchWithIndex.html#newIteratorWithBase(org.rocksdb.RocksIterator)"><code>newIteratorWithBase(org.rocksdb.RocksIterator)</code></a>
 to get an iterator for the database with Read-Your-Own-Writes like capability</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.rocksdb.RocksObject">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.rocksdb.<a href="../../org/rocksdb/RocksObject.html" title="class in org.rocksdb">RocksObject</a></h3>
<code><a href="../../org/rocksdb/RocksObject.html#nativeHandle_">nativeHandle_</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#WriteBatchWithIndex()">WriteBatchWithIndex</a></strong>()</code>
<div class="block">Creates a WriteBatchWithIndex where no bytes
 are reserved up-front, bytewise comparison is
 used for fallback key comparisons,
 and duplicate keys operations are retained</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#WriteBatchWithIndex(org.rocksdb.AbstractComparator,%20int,%20boolean)">WriteBatchWithIndex</a></strong>(<a href="../../org/rocksdb/AbstractComparator.html" title="class in org.rocksdb">AbstractComparator</a>&lt;? extends <a href="../../org/rocksdb/AbstractSlice.html" title="class in org.rocksdb">AbstractSlice</a>&lt;?&gt;&gt;&nbsp;fallbackIndexComparator,
                   int&nbsp;reservedBytes,
                   boolean&nbsp;overwriteKey)</code>
<div class="block">Creates a WriteBatchWithIndex</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#WriteBatchWithIndex(boolean)">WriteBatchWithIndex</a></strong>(boolean&nbsp;overwriteKey)</code>
<div class="block">Creates a WriteBatchWithIndex where no bytes
 are reserved up-front, bytewise comparison is
 used for fallback key comparisons, and duplicate key
 assignment is determined by the constructor argument</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#disposeInternal(long)">disposeInternal</a></strong>(long&nbsp;handle)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#getFromBatch(org.rocksdb.ColumnFamilyHandle,%20org.rocksdb.DBOptions,%20byte[])">getFromBatch</a></strong>(<a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle,
            <a href="../../org/rocksdb/DBOptions.html" title="class in org.rocksdb">DBOptions</a>&nbsp;options,
            byte[]&nbsp;key)</code>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(org.rocksdb.ColumnFamilyHandle,%20byte[])"><code>RocksDB.get(ColumnFamilyHandle, byte[])</code></a> but will only
 read the key from this batch.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#getFromBatch(org.rocksdb.DBOptions,%20byte[])">getFromBatch</a></strong>(<a href="../../org/rocksdb/DBOptions.html" title="class in org.rocksdb">DBOptions</a>&nbsp;options,
            byte[]&nbsp;key)</code>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(byte[])"><code>RocksDB.get(byte[])</code></a> but will only
 read the key from this batch.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#getFromBatchAndDB(org.rocksdb.RocksDB,%20org.rocksdb.ColumnFamilyHandle,%20org.rocksdb.ReadOptions,%20byte[])">getFromBatchAndDB</a></strong>(<a href="../../org/rocksdb/RocksDB.html" title="class in org.rocksdb">RocksDB</a>&nbsp;db,
                 <a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle,
                 <a href="../../org/rocksdb/ReadOptions.html" title="class in org.rocksdb">ReadOptions</a>&nbsp;options,
                 byte[]&nbsp;key)</code>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(org.rocksdb.ColumnFamilyHandle,%20byte[])"><code>RocksDB.get(ColumnFamilyHandle, byte[])</code></a> but will also
 read writes from this batch.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#getFromBatchAndDB(org.rocksdb.RocksDB,%20org.rocksdb.ReadOptions,%20byte[])">getFromBatchAndDB</a></strong>(<a href="../../org/rocksdb/RocksDB.html" title="class in org.rocksdb">RocksDB</a>&nbsp;db,
                 <a href="../../org/rocksdb/ReadOptions.html" title="class in org.rocksdb">ReadOptions</a>&nbsp;options,
                 byte[]&nbsp;key)</code>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(byte[])"><code>RocksDB.get(byte[])</code></a> but will also
 read writes from this batch.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb">WBWIRocksIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#newIterator()">newIterator</a></strong>()</code>
<div class="block">Create an iterator of the default column family.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb">WBWIRocksIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#newIterator(org.rocksdb.ColumnFamilyHandle)">newIterator</a></strong>(<a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle)</code>
<div class="block">Create an iterator of a column family.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#newIteratorWithBase(org.rocksdb.ColumnFamilyHandle,%20org.rocksdb.RocksIterator)">newIteratorWithBase</a></strong>(<a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle,
                   <a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a>&nbsp;baseIterator)</code>
<div class="block">Provides Read-Your-Own-Writes like functionality by
 creating a new Iterator that will use <a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb"><code>WBWIRocksIterator</code></a>
 as a delta and baseIterator as a base

 Updating write batch with the current key of the iterator is not safe.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../org/rocksdb/WriteBatchWithIndex.html#newIteratorWithBase(org.rocksdb.RocksIterator)">newIteratorWithBase</a></strong>(<a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a>&nbsp;baseIterator)</code>
<div class="block">Provides Read-Your-Own-Writes like functionality by
 creating a new Iterator that will use <a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb"><code>WBWIRocksIterator</code></a>
 as a delta and baseIterator as a base.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.rocksdb.AbstractWriteBatch">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.rocksdb.<a href="../../org/rocksdb/AbstractWriteBatch.html" title="class in org.rocksdb">AbstractWriteBatch</a></h3>
<code><a href="../../org/rocksdb/AbstractWriteBatch.html#clear()">clear</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#count()">count</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#delete(byte[])">delete</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#delete(org.rocksdb.ColumnFamilyHandle,%20byte[])">delete</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#deleteRange(byte[],%20byte[])">deleteRange</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#deleteRange(org.rocksdb.ColumnFamilyHandle,%20byte[],%20byte[])">deleteRange</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#getWriteBatch()">getWriteBatch</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#merge(byte[],%20byte[])">merge</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#merge(org.rocksdb.ColumnFamilyHandle,%20byte[],%20byte[])">merge</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#popSavePoint()">popSavePoint</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#put(byte[],%20byte[])">put</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#put(org.rocksdb.ColumnFamilyHandle,%20byte[],%20byte[])">put</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#putLogData(byte[])">putLogData</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#remove(byte[])">remove</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#remove(org.rocksdb.ColumnFamilyHandle,%20byte[])">remove</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#rollbackToSavePoint()">rollbackToSavePoint</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#setMaxBytes(long)">setMaxBytes</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#setSavePoint()">setSavePoint</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#singleDelete(byte[])">singleDelete</a>, <a href="../../org/rocksdb/AbstractWriteBatch.html#singleDelete(org.rocksdb.ColumnFamilyHandle,%20byte[])">singleDelete</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.rocksdb.RocksObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.rocksdb.<a href="../../org/rocksdb/RocksObject.html" title="class in org.rocksdb">RocksObject</a></h3>
<code><a href="../../org/rocksdb/RocksObject.html#disposeInternal()">disposeInternal</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.rocksdb.AbstractImmutableNativeReference">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.rocksdb.<a href="../../org/rocksdb/AbstractImmutableNativeReference.html" title="class in org.rocksdb">AbstractImmutableNativeReference</a></h3>
<code><a href="../../org/rocksdb/AbstractImmutableNativeReference.html#close()">close</a>, <a href="../../org/rocksdb/AbstractImmutableNativeReference.html#disOwnNativeHandle()">disOwnNativeHandle</a>, <a href="../../org/rocksdb/AbstractImmutableNativeReference.html#isOwningHandle()">isOwningHandle</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.rocksdb.AbstractNativeReference">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.rocksdb.<a href="../../org/rocksdb/AbstractNativeReference.html" title="class in org.rocksdb">AbstractNativeReference</a></h3>
<code><a href="../../org/rocksdb/AbstractNativeReference.html#dispose()">dispose</a>, <a href="../../org/rocksdb/AbstractNativeReference.html#finalize()">finalize</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="WriteBatchWithIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WriteBatchWithIndex</h4>
<pre>public&nbsp;WriteBatchWithIndex()</pre>
<div class="block">Creates a WriteBatchWithIndex where no bytes
 are reserved up-front, bytewise comparison is
 used for fallback key comparisons,
 and duplicate keys operations are retained</div>
</li>
</ul>
<a name="WriteBatchWithIndex(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WriteBatchWithIndex</h4>
<pre>public&nbsp;WriteBatchWithIndex(boolean&nbsp;overwriteKey)</pre>
<div class="block">Creates a WriteBatchWithIndex where no bytes
 are reserved up-front, bytewise comparison is
 used for fallback key comparisons, and duplicate key
 assignment is determined by the constructor argument</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>overwriteKey</code> - if true, overwrite the key in the index when
   inserting a duplicate key, in this way an iterator will never
   show two entries with the same key.</dd></dl>
</li>
</ul>
<a name="WriteBatchWithIndex(org.rocksdb.AbstractComparator, int, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WriteBatchWithIndex</h4>
<pre>public&nbsp;WriteBatchWithIndex(<a href="../../org/rocksdb/AbstractComparator.html" title="class in org.rocksdb">AbstractComparator</a>&lt;? extends <a href="../../org/rocksdb/AbstractSlice.html" title="class in org.rocksdb">AbstractSlice</a>&lt;?&gt;&gt;&nbsp;fallbackIndexComparator,
                   int&nbsp;reservedBytes,
                   boolean&nbsp;overwriteKey)</pre>
<div class="block">Creates a WriteBatchWithIndex</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fallbackIndexComparator</code> - We fallback to this comparator
  to compare keys within a column family if we cannot determine
  the column family and so look up it's comparator.</dd><dd><code>reservedBytes</code> - reserved bytes in underlying WriteBatch</dd><dd><code>overwriteKey</code> - if true, overwrite the key in the index when
   inserting a duplicate key, in this way an iterator will never
   show two entries with the same key.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newIterator(org.rocksdb.ColumnFamilyHandle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIterator</h4>
<pre>public&nbsp;<a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb">WBWIRocksIterator</a>&nbsp;newIterator(<a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle)</pre>
<div class="block">Create an iterator of a column family. User can call
 <a href="../../org/rocksdb/RocksIteratorInterface.html#seek(byte[])"><code>RocksIteratorInterface.seek(byte[])</code></a> to
 search to the next entry of or after a key. Keys will be iterated in the
 order given by index_comparator. For multiple updates on the same key,
 each update will be returned as a separate entry, in the order of update
 time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columnFamilyHandle</code> - The column family to iterate over</dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator for the Write Batch contents, restricted to the column
 family</dd></dl>
</li>
</ul>
<a name="newIterator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIterator</h4>
<pre>public&nbsp;<a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb">WBWIRocksIterator</a>&nbsp;newIterator()</pre>
<div class="block">Create an iterator of the default column family. User can call
 <a href="../../org/rocksdb/RocksIteratorInterface.html#seek(byte[])"><code>RocksIteratorInterface.seek(byte[])</code></a> to
 search to the next entry of or after a key. Keys will be iterated in the
 order given by index_comparator. For multiple updates on the same key,
 each update will be returned as a separate entry, in the order of update
 time.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>An iterator for the Write Batch contents</dd></dl>
</li>
</ul>
<a name="newIteratorWithBase(org.rocksdb.ColumnFamilyHandle, org.rocksdb.RocksIterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIteratorWithBase</h4>
<pre>public&nbsp;<a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a>&nbsp;newIteratorWithBase(<a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle,
                                <a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a>&nbsp;baseIterator)</pre>
<div class="block">Provides Read-Your-Own-Writes like functionality by
 creating a new Iterator that will use <a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb"><code>WBWIRocksIterator</code></a>
 as a delta and baseIterator as a base

 Updating write batch with the current key of the iterator is not safe.
 We strongly recommand users not to do it. It will invalidate the current
 key() and value() of the iterator. This invalidation happens even before
 the write batch update finishes. The state may recover after Next() is
 called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columnFamilyHandle</code> - The column family to iterate over</dd><dd><code>baseIterator</code> - The base iterator,
   e.g. <a href="../../org/rocksdb/RocksDB.html#newIterator()"><code>RocksDB.newIterator()</code></a></dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator which shows a view comprised of both the database
 point-in-time from baseIterator and modifications made in this write batch.</dd></dl>
</li>
</ul>
<a name="newIteratorWithBase(org.rocksdb.RocksIterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIteratorWithBase</h4>
<pre>public&nbsp;<a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a>&nbsp;newIteratorWithBase(<a href="../../org/rocksdb/RocksIterator.html" title="class in org.rocksdb">RocksIterator</a>&nbsp;baseIterator)</pre>
<div class="block">Provides Read-Your-Own-Writes like functionality by
 creating a new Iterator that will use <a href="../../org/rocksdb/WBWIRocksIterator.html" title="class in org.rocksdb"><code>WBWIRocksIterator</code></a>
 as a delta and baseIterator as a base. Operates on the default column
 family.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>baseIterator</code> - The base iterator,
   e.g. <a href="../../org/rocksdb/RocksDB.html#newIterator()"><code>RocksDB.newIterator()</code></a></dd>
<dt><span class="strong">Returns:</span></dt><dd>An iterator which shows a view comprised of both the database
 point-in-timefrom baseIterator and modifications made in this write batch.</dd></dl>
</li>
</ul>
<a name="getFromBatch(org.rocksdb.ColumnFamilyHandle, org.rocksdb.DBOptions, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromBatch</h4>
<pre>public&nbsp;byte[]&nbsp;getFromBatch(<a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle,
                  <a href="../../org/rocksdb/DBOptions.html" title="class in org.rocksdb">DBOptions</a>&nbsp;options,
                  byte[]&nbsp;key)
                    throws <a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></pre>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(org.rocksdb.ColumnFamilyHandle,%20byte[])"><code>RocksDB.get(ColumnFamilyHandle, byte[])</code></a> but will only
 read the key from this batch.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>columnFamilyHandle</code> - The column family to retrieve the value from</dd><dd><code>options</code> - The database options to use</dd><dd><code>key</code> - The key to read the value for</dd>
<dt><span class="strong">Returns:</span></dt><dd>a byte array storing the value associated with the input key if
     any. null if it does not find the specified key.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></code> - if the batch does not have enough data to resolve
 Merge operations, MergeInProgress status may be returned.</dd></dl>
</li>
</ul>
<a name="getFromBatch(org.rocksdb.DBOptions, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromBatch</h4>
<pre>public&nbsp;byte[]&nbsp;getFromBatch(<a href="../../org/rocksdb/DBOptions.html" title="class in org.rocksdb">DBOptions</a>&nbsp;options,
                  byte[]&nbsp;key)
                    throws <a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></pre>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(byte[])"><code>RocksDB.get(byte[])</code></a> but will only
 read the key from this batch.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>options</code> - The database options to use</dd><dd><code>key</code> - The key to read the value for</dd>
<dt><span class="strong">Returns:</span></dt><dd>a byte array storing the value associated with the input key if
     any. null if it does not find the specified key.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></code> - if the batch does not have enough data to resolve
 Merge operations, MergeInProgress status may be returned.</dd></dl>
</li>
</ul>
<a name="getFromBatchAndDB(org.rocksdb.RocksDB, org.rocksdb.ColumnFamilyHandle, org.rocksdb.ReadOptions, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromBatchAndDB</h4>
<pre>public&nbsp;byte[]&nbsp;getFromBatchAndDB(<a href="../../org/rocksdb/RocksDB.html" title="class in org.rocksdb">RocksDB</a>&nbsp;db,
                       <a href="../../org/rocksdb/ColumnFamilyHandle.html" title="class in org.rocksdb">ColumnFamilyHandle</a>&nbsp;columnFamilyHandle,
                       <a href="../../org/rocksdb/ReadOptions.html" title="class in org.rocksdb">ReadOptions</a>&nbsp;options,
                       byte[]&nbsp;key)
                         throws <a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></pre>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(org.rocksdb.ColumnFamilyHandle,%20byte[])"><code>RocksDB.get(ColumnFamilyHandle, byte[])</code></a> but will also
 read writes from this batch.

 This function will query both this batch and the DB and then merge
 the results using the DB's merge operator (if the batch contains any
 merge requests).

 Setting <a href="../../org/rocksdb/ReadOptions.html#setSnapshot(long,%20long)"><code>ReadOptions.setSnapshot(long, long)</code></a> will affect what is
 read from the DB but will NOT change which keys are read from the batch
 (the keys in this batch do not yet belong to any snapshot and will be
 fetched regardless).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>db</code> - The Rocks database</dd><dd><code>columnFamilyHandle</code> - The column family to retrieve the value from</dd><dd><code>options</code> - The read options to use</dd><dd><code>key</code> - The key to read the value for</dd>
<dt><span class="strong">Returns:</span></dt><dd>a byte array storing the value associated with the input key if
     any. null if it does not find the specified key.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></code> - if the value for the key cannot be read</dd></dl>
</li>
</ul>
<a name="getFromBatchAndDB(org.rocksdb.RocksDB, org.rocksdb.ReadOptions, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromBatchAndDB</h4>
<pre>public&nbsp;byte[]&nbsp;getFromBatchAndDB(<a href="../../org/rocksdb/RocksDB.html" title="class in org.rocksdb">RocksDB</a>&nbsp;db,
                       <a href="../../org/rocksdb/ReadOptions.html" title="class in org.rocksdb">ReadOptions</a>&nbsp;options,
                       byte[]&nbsp;key)
                         throws <a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></pre>
<div class="block">Similar to <a href="../../org/rocksdb/RocksDB.html#get(byte[])"><code>RocksDB.get(byte[])</code></a> but will also
 read writes from this batch.

 This function will query both this batch and the DB and then merge
 the results using the DB's merge operator (if the batch contains any
 merge requests).

 Setting <a href="../../org/rocksdb/ReadOptions.html#setSnapshot(long,%20long)"><code>ReadOptions.setSnapshot(long, long)</code></a> will affect what is
 read from the DB but will NOT change which keys are read from the batch
 (the keys in this batch do not yet belong to any snapshot and will be
 fetched regardless).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>db</code> - The Rocks database</dd><dd><code>options</code> - The read options to use</dd><dd><code>key</code> - The key to read the value for</dd>
<dt><span class="strong">Returns:</span></dt><dd>a byte array storing the value associated with the input key if
     any. null if it does not find the specified key.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/rocksdb/RocksDBException.html" title="class in org.rocksdb">RocksDBException</a></code> - if the value for the key cannot be read</dd></dl>
</li>
</ul>
<a name="disposeInternal(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>disposeInternal</h4>
<pre>protected final&nbsp;void&nbsp;disposeInternal(long&nbsp;handle)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../org/rocksdb/RocksObject.html#disposeInternal(long)">disposeInternal</a></code>&nbsp;in class&nbsp;<code><a href="../../org/rocksdb/RocksObject.html" title="class in org.rocksdb">RocksObject</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/rocksdb/WriteBatchInterface.html" title="interface in org.rocksdb"><span class="strong">Prev Class</span></a></li>
<li><a href="../../org/rocksdb/WriteOptions.html" title="class in org.rocksdb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/rocksdb/WriteBatchWithIndex.html" target="_top">Frames</a></li>
<li><a href="WriteBatchWithIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.rocksdb.RocksObject">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

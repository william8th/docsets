<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Dec 20 19:53:54 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Streams (ratpack-exec 1.6.0 API)</title>
<meta name="date" content="2018-12-20">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Streams (ratpack-exec 1.6.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9,"i22":9,"i23":9,"i24":9,"i25":9,"i26":41,"i27":9,"i28":9,"i29":9,"i30":9,"i31":9,"i32":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../ratpack/stream/StreamMapper.html" title="interface in ratpack.stream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ratpack/stream/Streams.html" target="_top">Frames</a></li>
<li><a href="Streams.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ratpack.stream</div>
<h2 title="Class Streams" class="title">Class Streams</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ratpack.stream.Streams</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Streams</span>
extends java.lang.Object</pre>
<div class="block">Some lightweight utilities for working with <a href="http://www.reactive-streams.org/">reactive streams</a>.
 <blockquote>
 <p>Reactive Streams is an initiative to provide a standard for asynchronous stream processing with non-blocking back pressure on the JVM.</p>
 <p><a href="http://www.reactive-streams.org/">http://www.reactive-streams.org</a></p>
 </blockquote>
 <p>
 Ratpack uses the Reactive Streams API when consuming streams of data (e.g <code>ratpack.http.Response#sendStream(Publisher)</code>).
 </p>
 <p>
 This class provides some useful reactive utilities that integrate other parts of the Ratpack API with Reactive Stream types.
 It is not designed to be a fully featured reactive toolkit.
 If you require more features than provided here, consider using Ratpack's RxJava or Reactor integration.
 </p>
 <p>
 The methods in this class are available as <a href="http://docs.groovy-lang.org/latest/html/documentation/#_extension_modules">Groovy Extensions</a>.
 When using Groovy, applications can utilize the static methods provided in this class as instance-level methods against the first argument in their variable argument list.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#Streams--">Streams</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#batch-int-org.reactivestreams.Publisher-ratpack.func.Action-">batch</a></span>(int&nbsp;batchSize,
     org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
     <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</code>
<div class="block">Batches and serialised demand.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#bindExec-org.reactivestreams.Publisher-">bindExec</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</code>
<div class="block">Binds the given publisher to the current <a href="../../ratpack/exec/Execution.html" title="interface in ratpack.exec"><code>Execution</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#bindExec-org.reactivestreams.Publisher-ratpack.func.Action-">bindExec</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
        <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</code>
<div class="block">Binds the given publisher to the current <a href="../../ratpack/exec/Execution.html" title="interface in ratpack.exec"><code>Execution</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-">buffer</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</code>
<div class="block">Returns a publisher that allows the given publisher to without respecting demand.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#concat-java.lang.Iterable-">concat</a></span>(java.lang.Iterable&lt;? extends org.reactivestreams.Publisher&lt;? extends T&gt;&gt;&nbsp;publishers)</code>
<div class="block">Similar to <a href="../../ratpack/stream/Streams.html#concat-java.lang.Iterable-ratpack.func.Action-"><code>concat(Iterable, Action)</code></a>, but with a noop disposer.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#concat-java.lang.Iterable-ratpack.func.Action-">concat</a></span>(java.lang.Iterable&lt;? extends org.reactivestreams.Publisher&lt;? extends T&gt;&gt;&nbsp;publishers,
      <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</code>
<div class="block">Returns a publisher that aggregates the given publishers into a single stream of elements, without interleaving them.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#constant-T-">constant</a></span>(T&nbsp;item)</code>
<div class="block">Creates a new publisher, that indefinitely streams the given object to all subscribers.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#empty--">empty</a></span>()</code>
<div class="block">An empty publisher that immediately completes.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#fanOut-org.reactivestreams.Publisher-">fanOut</a></span>(org.reactivestreams.Publisher&lt;? extends java.lang.Iterable&lt;? extends T&gt;&gt;&nbsp;publisher)</code>
<div class="block">Returns a publisher that publishes each element from Collections that are produced from the given input publisher.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#fanOut-org.reactivestreams.Publisher-ratpack.func.Action-">fanOut</a></span>(org.reactivestreams.Publisher&lt;? extends java.lang.Iterable&lt;? extends T&gt;&gt;&nbsp;publisher,
      <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</code>
<div class="block">Returns a publisher that publishes each element from Collections that are produced from the given input publisher.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#filter-org.reactivestreams.Publisher-ratpack.func.Predicate-">filter</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;input,
      <a href="../../ratpack/func/Predicate.html" title="interface in ratpack.func">Predicate</a>&lt;? super T&gt;&nbsp;filter)</code>
<div class="block">Returns a publisher that filters items from the given input stream by applying the given filter predicate.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static &lt;I,O&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;O&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#flatMap-org.reactivestreams.Publisher-ratpack.func.Function-">flatMap</a></span>(org.reactivestreams.Publisher&lt;I&gt;&nbsp;input,
       <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super I,? extends <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;? extends O&gt;&gt;&nbsp;function)</code>
<div class="block">Returns a publisher that publishes items from the given input publisher after transforming each item via the given, promise returning, function.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#flatten-org.reactivestreams.Publisher-">flatten</a></span>(org.reactivestreams.Publisher&lt;? extends org.reactivestreams.Publisher&lt;T&gt;&gt;&nbsp;publisher)</code>
<div class="block">Creates a single publisher from a publisher of publishers.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#flatten-org.reactivestreams.Publisher-ratpack.func.Action-">flatten</a></span>(org.reactivestreams.Publisher&lt;? extends org.reactivestreams.Publisher&lt;T&gt;&gt;&nbsp;publisher,
       <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</code>
<div class="block">Creates a single publisher from a publisher of publishers.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#flatYield-ratpack.func.Function-">flatYield</a></span>(<a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super <a href="../../ratpack/stream/YieldRequest.html" title="interface in ratpack.stream">YieldRequest</a>,? extends <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;T&gt;&gt;&nbsp;producer)</code>
<div class="block">Creates a new publisher, backed by the given asynchronous data producing function.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#fork-org.reactivestreams.Publisher-ratpack.func.Action-ratpack.func.Action-">fork</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
    <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super <a href="../../ratpack/exec/ExecSpec.html" title="interface in ratpack.exec">ExecSpec</a>&gt;&nbsp;execConfig,
    <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</code>
<div class="block">Consumes the given publisher eagerly in a forked execution, buffering results until ready to be consumed by this execution.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#gate-org.reactivestreams.Publisher-ratpack.func.Action-">gate</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
    <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super java.lang.Runnable&gt;&nbsp;valveReceiver)</code>
<div class="block">Allows requests from the subscriber of the return publisher to be withheld from the given publisher until an externally defined moment.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static &lt;I,O&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;O&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#map-org.reactivestreams.Publisher-ratpack.func.Function-">map</a></span>(org.reactivestreams.Publisher&lt;I&gt;&nbsp;input,
   <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super I,? extends O&gt;&nbsp;function)</code>
<div class="block">Returns a publisher that publishes items from the given input publisher after transforming each item via the given function.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#merge-org.reactivestreams.Publisher...-">merge</a></span>(org.reactivestreams.Publisher&lt;? extends T&gt;...&nbsp;publishers)</code>
<div class="block">Returns a publisher that merges the given input publishers into a single stream of elements.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#multicast-org.reactivestreams.Publisher-">multicast</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</code>
<div class="block">Returns a publisher that will stream events emitted from the given publisher to all of its subscribers.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#periodically-ratpack.registry.Registry-java.time.Duration-ratpack.func.Function-">periodically</a></span>(<a href="../../ratpack/registry/Registry.html" title="interface in ratpack.registry">Registry</a>&nbsp;registry,
            java.time.Duration&nbsp;duration,
            <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super java.lang.Integer,? extends T&gt;&nbsp;producer)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#periodically-java.util.concurrent.ScheduledExecutorService-java.time.Duration-ratpack.func.Function-">periodically</a></span>(java.util.concurrent.ScheduledExecutorService&nbsp;executorService,
            java.time.Duration&nbsp;duration,
            <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super java.lang.Integer,? extends T&gt;&nbsp;producer)</code>
<div class="block">Executes the given function periodically, publishing the return value to the subscriber.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#publish-java.lang.Iterable-">publish</a></span>(java.lang.Iterable&lt;T&gt;&nbsp;iterable)</code>
<div class="block">Converts an iterable to a publishable.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#publish-ratpack.exec.Promise-">publish</a></span>(<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;? extends java.lang.Iterable&lt;T&gt;&gt;&nbsp;promise)</code>
<div class="block">Converts a <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec"><code>Promise</code></a> for an iterable into a publishable.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static &lt;T,R&gt;&nbsp;<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#reduce-org.reactivestreams.Publisher-R-ratpack.func.BiFunction-">reduce</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
      R&nbsp;seed,
      <a href="../../ratpack/func/BiFunction.html" title="interface in ratpack.func">BiFunction</a>&lt;? super R,? super T,? extends R&gt;&nbsp;reducer)</code>
<div class="block">Reduces the stream to a single value, by applying the given function successively.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static &lt;U,D&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;D&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#streamMap-org.reactivestreams.Publisher-ratpack.stream.StreamMapper-">streamMap</a></span>(org.reactivestreams.Publisher&lt;? extends U&gt;&nbsp;input,
         <a href="../../ratpack/stream/StreamMapper.html" title="interface in ratpack.stream">StreamMapper</a>&lt;? super U,D&gt;&nbsp;mapper)</code>
<div class="block">Allows transforming a stream into an entirely different stream.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static &lt;U,D&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;D&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#streamMap-org.reactivestreams.Publisher-ratpack.func.Function-">streamMap</a></span>(org.reactivestreams.Publisher&lt;U&gt;&nbsp;input,
         <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super <a href="../../ratpack/stream/WriteStream.html" title="interface in ratpack.stream">WriteStream</a>&lt;D&gt;,? extends <a href="../../ratpack/stream/WriteStream.html" title="interface in ratpack.stream">WriteStream</a>&lt;? super U&gt;&gt;&nbsp;mapper)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">since 1.4, use <a href="../../ratpack/stream/Streams.html#streamMap-org.reactivestreams.Publisher-ratpack.stream.StreamMapper-"><code>streamMap(Publisher, StreamMapper)</code></a></span></div>
</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#take-long-org.reactivestreams.Publisher-">take</a></span>(long&nbsp;count,
    org.reactivestreams.Publisher&lt;T&gt;&nbsp;upstreamPublisher)</code>
<div class="block">Returns a publisher that emits only the first <code>n</code> elements from the given publisher, where <code>n</code> is the
 given count.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;java.util.List&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#toList-org.reactivestreams.Publisher-">toList</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</code>
<div class="block">Creates a promise for the given publisher's items as a List.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#toPromise-org.reactivestreams.Publisher-">toPromise</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</code>
<div class="block">Creates a promise for the given publisher's single item.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#transformable-org.reactivestreams.Publisher-">transformable</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</code>
<div class="block">Wraps the publisher in Ratpack's <a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream"><code>TransformablePublisher</code></a> to make composing a pipeline easier.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#wiretap-org.reactivestreams.Publisher-ratpack.func.Action-">wiretap</a></span>(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
       <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super <a href="../../ratpack/stream/StreamEvent.html" title="interface in ratpack.stream">StreamEvent</a>&lt;T&gt;&gt;&nbsp;listener)</code>
<div class="block">Allows listening to the events of the given publisher as they flow to subscribers.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../ratpack/stream/Streams.html#yield-ratpack.func.Function-">yield</a></span>(<a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super <a href="../../ratpack/stream/YieldRequest.html" title="interface in ratpack.stream">YieldRequest</a>,? extends T&gt;&nbsp;producer)</code>
<div class="block">Creates a new publisher, backed by the given data producing function.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Streams--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Streams</h4>
<pre>public&nbsp;Streams()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="transformable-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformable</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;transformable(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</pre>
<div class="block">Wraps the publisher in Ratpack's <a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream"><code>TransformablePublisher</code></a> to make composing a pipeline easier.
 <p>
 The return publisher is effectively the same publisher in terms of the <code>Publisher.subscribe(org.reactivestreams.Subscriber)</code> method.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item the publisher emits</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher to wrap</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a wrapped publisher</dd>
</dl>
</li>
</ul>
<a name="empty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>empty</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;empty()</pre>
<div class="block">An empty publisher that immediately completes.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item expected</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an empty publisher</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="publish-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publish</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;publish(java.lang.Iterable&lt;T&gt;&nbsp;iterable)</pre>
<div class="block">Converts an iterable to a publishable.
 <p>
 Upon subscription, a new iterator will be created from the iterable.
 Values are pulled from the iterator in accordance with the requests from the subscriber.
 <p>
 Any exception thrown by the iterable/iterator will be forwarded to the subscriber.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iterable</code> - the data source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher for the given iterable</dd>
</dl>
</li>
</ul>
<a name="publish-ratpack.exec.Promise-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publish</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;publish(<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;? extends java.lang.Iterable&lt;T&gt;&gt;&nbsp;promise)</pre>
<div class="block">Converts a <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec"><code>Promise</code></a> for an iterable into a publishable.
 <p>
 Upon subscription the promise will be consumed and the promised iterable will be emitted
 to the subscriber one element at a time.
 <p>
 Any exception thrown by the the promise will be forwarded to the subscriber.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the element type of the promised iterable</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>promise</code> - the promise</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher for each element of the promised iterable</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1</dd>
</dl>
</li>
</ul>
<a name="yield-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>yield</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;yield(<a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super <a href="../../ratpack/stream/YieldRequest.html" title="interface in ratpack.stream">YieldRequest</a>,? extends T&gt;&nbsp;producer)</pre>
<div class="block">Creates a new publisher, backed by the given data producing function.
 <p>
 As subscribers request data of the returned stream, the given function is invoked.
 The function returns the item to send downstream.
 If the function returns <code>null</code>, the stream is terminated.
 If the function throws an exception, the stream is terminated and the error is sent downstream.
 <pre class="java"><code>import ratpack.stream.Streams;
 import ratpack.test.exec.ExecHarness;

 import java.util.Arrays;
 import java.util.List;
 import static org.junit.Assert.*;

 public class Example {
   public static void main(String... args) throws Exception {
     List&lt;String&gt; strings = ExecHarness.yieldSingle(execControl -&gt;
       Streams.yield(r -&gt; {
         if (r.getRequestNum() &lt; 2) {
           return Long.toString(r.getRequestNum());
         } else {
           return null;
         }
       }).toList()
     ).getValue();

     assertEquals(Arrays.asList("0", "1"), strings);
   }
 }
 </code></pre>
 <p>
 If the value producing function is asynchronous, use <a href="../../ratpack/stream/Streams.html#flatYield-ratpack.func.Function-"><code>flatYield(Function)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>producer</code> - the data source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher backed by the given producer</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../ratpack/stream/Streams.html#flatYield-ratpack.func.Function-"><code>flatYield(ratpack.func.Function&lt;? super ratpack.stream.YieldRequest, ? extends ratpack.exec.Promise&lt;T&gt;&gt;)</code></a></dd>
</dl>
</li>
</ul>
<a name="flatYield-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flatYield</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;flatYield(<a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super <a href="../../ratpack/stream/YieldRequest.html" title="interface in ratpack.stream">YieldRequest</a>,? extends <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;T&gt;&gt;&nbsp;producer)</pre>
<div class="block">Creates a new publisher, backed by the given asynchronous data producing function.
 <p>
 As subscribers request data of the returned stream, the given function is invoked.
 The function returns a promise for the item to send downstream.
 If the promise provides a value of <code>null</code>, the stream is terminated.
 If the promise produces an error, the stream is terminated and the error is sent downstream.
 If the promise producing function throws an exception, the stream is terminated and the error is sent downstream.
 <pre class="java"><code>import ratpack.stream.Streams;
 import ratpack.exec.Promise;
 import ratpack.test.exec.ExecHarness;

 import java.util.Arrays;
 import java.util.List;
 import static org.junit.Assert.*;

 public class Example {
   public static void main(String... args) throws Exception {
     List&lt;String&gt; strings = ExecHarness.yieldSingle(execControl -&gt;
       Streams.flatYield(r -&gt; {
         if (r.getRequestNum() &lt; 2) {
           return Promise.value(Long.toString(r.getRequestNum()));
         } else {
           return Promise.ofNull();
         }
       }).toList()
     ).getValue();

     assertEquals(Arrays.asList("0", "1"), strings);
   }
 }
 </code></pre>
 <p>
 If the value producing function is not asynchronous, use <a href="../../ratpack/stream/Streams.html#yield-ratpack.func.Function-"><code>yield(Function)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>producer</code> - the data source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher backed by the given producer</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../ratpack/stream/Streams.html#yield-ratpack.func.Function-"><code>yield(ratpack.func.Function&lt;? super ratpack.stream.YieldRequest, ? extends T&gt;)</code></a></dd>
</dl>
</li>
</ul>
<a name="constant-java.lang.Object-">
<!--   -->
</a><a name="constant-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constant</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;constant(T&nbsp;item)</pre>
<div class="block">Creates a new publisher, that indefinitely streams the given object to all subscribers.
 <p>
 This is rarely useful for anything other than testing.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the item to indefinitely stream</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that indefinitely streams the given item</dd>
</dl>
</li>
</ul>
<a name="map-org.reactivestreams.Publisher-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map</h4>
<pre>public static&nbsp;&lt;I,O&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;O&gt;&nbsp;map(org.reactivestreams.Publisher&lt;I&gt;&nbsp;input,
                                                  <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super I,? extends O&gt;&nbsp;function)</pre>
<div class="block">Returns a publisher that publishes items from the given input publisher after transforming each item via the given function.
 <p>
 The returned publisher does not perform any flow control on the data stream.
 <p>
 If the given transformation errors, the exception will be forwarded to the subscriber and the subscription to the input stream will be cancelled.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>I</code> - the type of input item</dd>
<dd><code>O</code> - the type of output item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the stream of input data</dd>
<dd><code>function</code> - the transformation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that applies the given transformation to each item from the input stream</dd>
</dl>
</li>
</ul>
<a name="filter-org.reactivestreams.Publisher-ratpack.func.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filter</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;filter(org.reactivestreams.Publisher&lt;T&gt;&nbsp;input,
                                                   <a href="../../ratpack/func/Predicate.html" title="interface in ratpack.func">Predicate</a>&lt;? super T&gt;&nbsp;filter)</pre>
<div class="block">Returns a publisher that filters items from the given input stream by applying the given filter predicate.
 <p>
 The returned stream is <a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-"><code>buffered</code></a>, which means that if the downstream requests, say 5 items, which is filtered into only 3 items
 the publisher will ask for more from the upstream to meet the downstream demand.
 <pre class="java"><code>import org.reactivestreams.Publisher;
 import ratpack.stream.Streams;
 import ratpack.stream.TransformablePublisher;
 import ratpack.test.exec.ExecHarness;

 import java.util.Arrays;
 import java.util.List;

 import static org.junit.Assert.*;

 public class Example {
   public static void main(String... args) throws Exception {
     List&lt;Integer&gt; result = ExecHarness.yieldSingle(execControl -&gt; {
       TransformablePublisher&lt;Integer&gt; evens = Streams.publish(Arrays.asList(1, 2, 3, 4, 5, 6)).filter(i -&gt; i % 2 == 0);
       return evens.toList();
     }).getValue();

     assertEquals(Arrays.asList(2, 4, 6), result);
   }
 }
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the stream to filter</dd>
<dd><code>filter</code> - the filter predicate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the input stream filtered</dd>
</dl>
</li>
</ul>
<a name="streamMap-org.reactivestreams.Publisher-ratpack.stream.StreamMapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>streamMap</h4>
<pre>public static&nbsp;&lt;U,D&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;D&gt;&nbsp;streamMap(org.reactivestreams.Publisher&lt;? extends U&gt;&nbsp;input,
                                                        <a href="../../ratpack/stream/StreamMapper.html" title="interface in ratpack.stream">StreamMapper</a>&lt;? super U,D&gt;&nbsp;mapper)</pre>
<div class="block">Allows transforming a stream into an entirely different stream.
 <p>
 While the <a href="../../ratpack/stream/Streams.html#map-org.reactivestreams.Publisher-ratpack.func.Function-"><code>map(Publisher, Function)</code></a> method support transforming individual items, this method supports transforming the stream as a whole.
 This is necessary when the transformation causes a different number of items to be emitted than the original stream.
 <pre class="java"><code>import org.reactivestreams.Publisher;
 import ratpack.stream.Streams;
 import ratpack.stream.TransformablePublisher;
 import ratpack.stream.WriteStream;
 import ratpack.test.exec.ExecHarness;

 import java.util.Arrays;
 import java.util.List;

 import static org.junit.Assert.*;

 public class Example {
   public static void main(String... args) throws Exception {
     List&lt;String&gt; result = ExecHarness.yieldSingle(execControl -&gt; {
       Publisher&lt;String&gt; chars = Streams.publish(Arrays.asList("a", "b", "c"));
       TransformablePublisher&lt;String&gt; mapped = Streams.streamMap(chars, (subscription, out) -&gt;
         new WriteStream&lt;String&gt;() {
           public void item(String item) {
             out.item(item);
             out.item(item.toUpperCase());
           }

           public void error(Throwable error) {
             out.error(error);
           }

           public void complete() {
             out.complete();
           }
         }
       );
       return mapped.toList();
     }).getValue();

     assertEquals(Arrays.asList("a", "A", "b", "B", "c", "C"), result);
   }
 }
 </code></pre>
 <p>
 The <code>mapper</code> function receives a <a href="../../ratpack/stream/WriteStream.html" title="interface in ratpack.stream"><code>WriteStream</code></a> for emitting items and returns a <a href="../../ratpack/stream/WriteStream.html" title="interface in ratpack.stream"><code>WriteStream</code></a> that will be written to by the upstream publisher.
 Calling <a href="../../ratpack/stream/WriteStream.html#complete--"><code>WriteStream.complete()</code></a> or <a href="../../ratpack/stream/WriteStream.html#error-java.lang.Throwable-"><code>WriteStream.error(Throwable)</code></a> on the received write stream will <code>cancel</code> the upstream subscription and it is guaranteed that no more items will be emitted from the upstream.
 If the complete/error signals from upstream don't need to be intercepted, the <a href="../../ratpack/stream/WriteStream.html#itemMap-org.reactivestreams.Subscription-ratpack.func.Action-"><code>WriteStream.itemMap(Subscription, Action)</code></a> can be used on the write stream given to the mapping function to of the return write stream.
 <p>
 Implementations must take care to call <code>Subscription.cancel()</code> on the provided subscription if they introduce an error.
 This is not required when simply forwarding an upstream error.
 <p>
 The returned stream is <a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-"><code>buffered</code></a>, which allows the stream transformation to emit more items downstream than what was received from the upstream.
 Currently, the upstream subscription will always receive a single <code>request</code> for <code>Long.MAX_VALUE</code>, effectively asking upstream to emit as fast as it can.
 Future versions may propagate backpressure more intelligently.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>U</code> - the type of item received</dd>
<dd><code>D</code> - the type of item produced</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the stream to map</dd>
<dd><code>mapper</code> - the mapping function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the input stream transformed</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.4</dd>
</dl>
</li>
</ul>
<a name="streamMap-org.reactivestreams.Publisher-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>streamMap</h4>
<pre>@Deprecated
public static&nbsp;&lt;U,D&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;D&gt;&nbsp;streamMap(org.reactivestreams.Publisher&lt;U&gt;&nbsp;input,
                                                                    <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super <a href="../../ratpack/stream/WriteStream.html" title="interface in ratpack.stream">WriteStream</a>&lt;D&gt;,? extends <a href="../../ratpack/stream/WriteStream.html" title="interface in ratpack.stream">WriteStream</a>&lt;? super U&gt;&gt;&nbsp;mapper)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">since 1.4, use <a href="../../ratpack/stream/Streams.html#streamMap-org.reactivestreams.Publisher-ratpack.stream.StreamMapper-"><code>streamMap(Publisher, StreamMapper)</code></a></span></div>
</li>
</ul>
<a name="flatMap-org.reactivestreams.Publisher-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flatMap</h4>
<pre>public static&nbsp;&lt;I,O&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;O&gt;&nbsp;flatMap(org.reactivestreams.Publisher&lt;I&gt;&nbsp;input,
                                                      <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super I,? extends <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;? extends O&gt;&gt;&nbsp;function)</pre>
<div class="block">Returns a publisher that publishes items from the given input publisher after transforming each item via the given, promise returning, function.
 <p>
 The returned publisher does not perform any flow control on the data stream.
 <p>
 If the given transformation errors, or if the returned promise fails, the exception will be forwarded to the subscriber and the subscription to the input stream will be cancelled.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>I</code> - the type of input item</dd>
<dd><code>O</code> - the type of output item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the stream of input data</dd>
<dd><code>function</code> - the transformation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that applies the given transformation to each item from the input stream</dd>
</dl>
</li>
</ul>
<a name="buffer-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffer</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;buffer(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</pre>
<div class="block">Returns a publisher that allows the given publisher to without respecting demand.
 <p>
 The given publisher may violate the Reactive Streams contract in that it may emit more items than have been requested.
 Any excess will be buffered until there is more demand.
 All requests for items from the subscriber will be satisfied from the buffer first.
 If a request is made at any time for more items than are currently in the buffer,
 a request for the unmet demand will be made of the given publisher.
 <p>
 If the given producer emits far faster than the downstream subscriber requests, the intermediate queue will grow large and consume memory.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - a data source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that buffers items emitted by the given publisher that were not requested</dd>
</dl>
</li>
</ul>
<a name="gate-org.reactivestreams.Publisher-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gate</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;gate(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
                                                 <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super java.lang.Runnable&gt;&nbsp;valveReceiver)</pre>
<div class="block">Allows requests from the subscriber of the return publisher to be withheld from the given publisher until an externally defined moment.
 <p>
 When the return publisher is subscribed to, the given publisher will be subscribed to.
 All requests made by the subscriber of the return publisher will not be forwarded to the subscription of the given publisher until the runnable given to the given action is run.
 Once the runnable is run, all requests are directly forwarded to the subscription of the given publisher.
 <p>
 The return publisher supports multi subscription, creating a new subscription to the given publisher each time.
 The given action will be invoke each time the return publisher is subscribed to with a distinct runnable for releasing the gate for that subscription.
 <p>
 The given action will be invoked immediately upon subscription of the return publisher.
 The runnable given to this action may be invoked any time (i.e. it does not need to be run during the action).
 If the action errors, the given publisher will not be subscribed to and the error will be sent to the return publisher subscriber.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the data source</dd>
<dd><code>valveReceiver</code> - an action that receives a runnable valve that when run allows request to start flowing upstream</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that is logically equivalent to the given publisher as far as subscribers are concerned</dd>
</dl>
</li>
</ul>
<a name="periodically-java.util.concurrent.ScheduledExecutorService-java.time.Duration-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>periodically</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;periodically(java.util.concurrent.ScheduledExecutorService&nbsp;executorService,
                                                         java.time.Duration&nbsp;duration,
                                                         <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super java.lang.Integer,? extends T&gt;&nbsp;producer)</pre>
<div class="block">Executes the given function periodically, publishing the return value to the subscriber.
 <p>
 When the return publisher is subscribed to, the given function is executed immediately (via the executor) with <code>0</code> as the input.
 The function will then be repeatedly executed again after the given delay (with an incrementing input) until the function returns <code>null</code>.
 That is, a return value from the function of <code>null</code> signals that the data stream has finished.
 The function will not be executed again after returning <code>null</code>.
 <p>
 Each new subscription to the publisher will cause the function to be scheduled again.
 Due to this, it is generally desirable to wrap the return publisher in a multicasting publisher.
 <p>
 If the function throws an exception, the error will be sent to the subscribers and no more invocations of the function will occur.
 <p>
 The returned publisher is implicitly buffered to respect back pressure via <a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-"><code>buffer(Publisher)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executorService</code> - the executor service that will periodically execute the function</dd>
<dd><code>duration</code> - the duration of the delay (Duration.ofSeconds(1) - delay will be 1 second)</dd>
<dd><code>producer</code> - a function that produces values to emit</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that applies respects back pressure, effectively throttling the given publisher</dd>
</dl>
</li>
</ul>
<a name="periodically-ratpack.registry.Registry-java.time.Duration-ratpack.func.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>periodically</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;periodically(<a href="../../ratpack/registry/Registry.html" title="interface in ratpack.registry">Registry</a>&nbsp;registry,
                                                         java.time.Duration&nbsp;duration,
                                                         <a href="../../ratpack/func/Function.html" title="interface in ratpack.func">Function</a>&lt;? super java.lang.Integer,? extends T&gt;&nbsp;producer)</pre>
</li>
</ul>
<a name="wiretap-org.reactivestreams.Publisher-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wiretap</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;wiretap(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
                                                    <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super <a href="../../ratpack/stream/StreamEvent.html" title="interface in ratpack.stream">StreamEvent</a>&lt;T&gt;&gt;&nbsp;listener)</pre>
<div class="block">Allows listening to the events of the given publisher as they flow to subscribers.
 <p>
 When the return publisher is subscribed to, the given publisher will be subscribed to.
 All events (incl. data, error and completion) emitted by the given publisher will be forwarded to the given listener before being forward to the subscriber of the return publisher.
 <p>
 If the listener errors, the upstream subscription will be cancelled (if appropriate) and the error sent downstream.
 If the listener errors while listening to an error event, the listener error will be <code>added as a surpressed exception</code>
 to the original exception which will then be sent downstream.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the data source</dd>
<dd><code>listener</code> - the listener for emitted items</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that is logically equivalent to the given publisher as far as subscribers are concerned</dd>
</dl>
</li>
</ul>
<a name="multicast-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>multicast</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;multicast(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</pre>
<div class="block">Returns a publisher that will stream events emitted from the given publisher to all of its subscribers.
 <p>
 The return publisher allows the given publisher to emit as fast as it can, while applying flow control downstream to multiple subscribers.
 Each subscriber can signal its own demand.  If the given publisher emits far faster than the downstream subscribers request, the intermediate
 queue of each subscriber will grow large and consume substantial memory. However, given this publisher is likely to be used with a periodic
 publisher or a regular indefinite stream it is unlikely to be a problem.
 <p>
 When a subscriber subscribes to the return publisher then it will not receive any events that have been emitted before it subscribed.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - a data source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that respects back pressure for each of it's Subscribers.</dd>
</dl>
</li>
</ul>
<a name="fanOut-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fanOut</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;fanOut(org.reactivestreams.Publisher&lt;? extends java.lang.Iterable&lt;? extends T&gt;&gt;&nbsp;publisher)</pre>
<div class="block">Returns a publisher that publishes each element from Collections that are produced from the given input publisher.
 <p>
 For each item the return publisher receives from the given input publisher, the return publisher will iterate over its elements and publish a
 new item for each element to its downstream subscriber e.g. if the return publisher receives a Collection with 10 elements then the downstream
 subscriber will receive 10 calls to its onNext method.
 <p>
 The returned publisher is implicitly buffered to respect back pressure via <a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-"><code>buffer(Publisher)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the data source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that splits collection items into new items per collection element</dd>
</dl>
</li>
</ul>
<a name="fanOut-org.reactivestreams.Publisher-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fanOut</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;fanOut(org.reactivestreams.Publisher&lt;? extends java.lang.Iterable&lt;? extends T&gt;&gt;&nbsp;publisher,
                                                   <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</pre>
<div class="block">Returns a publisher that publishes each element from Collections that are produced from the given input publisher.
 <p>
 For each item the return publisher receives from the given input publisher, the return publisher will iterate over its elements and publish a
 new item for each element to its downstream subscriber e.g. if the return publisher receives a Collection with 10 elements then the downstream
 subscriber will receive 10 calls to its onNext method.
 <p>
 The returned publisher is implicitly buffered to respect back pressure via <a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-"><code>buffer(Publisher)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the data source</dd>
<dd><code>disposer</code> - the disposer of unhandled items</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that splits collection items into new items per collection element</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="merge-org.reactivestreams.Publisher...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>@SafeVarargs
public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;merge(org.reactivestreams.Publisher&lt;? extends T&gt;...&nbsp;publishers)</pre>
<div class="block">Returns a publisher that merges the given input publishers into a single stream of elements.
 <p>
 The returned publisher obeys the following rules:
 <ul>
   <li>
    Only when all given input publishers have signalled completion will the downstream subscriber be completed.
   </li>
   <li>
    If one of the given input publishers errors then all other publisher subscriptions are cancelled and the error is propagated to the subscriber.
   </li>
   <li>
    If the subscription of the returned publisher is cancelled by the subscriber then all given input publisher subscriptions are cancelled.
   </li>
 </ul>
 <p>
 The returned publisher is implicitly buffered to respect back pressure via <a href="../../ratpack/stream/Streams.html#buffer-org.reactivestreams.Publisher-"><code>buffer(org.reactivestreams.Publisher)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publishers</code> - the data sources to merge</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that emits a single stream of elements from multiple publishers</dd>
</dl>
</li>
</ul>
<a name="toPromise-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toPromise</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;T&gt;&nbsp;toPromise(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</pre>
<div class="block">Creates a promise for the given publisher's single item.
 <p>
 The given publisher is expected to produce zero or one items.
 If it produces zero, the promised value will be <code>null</code>.
 The it produces exactly one item, the promised value will be that item.
 <p>
 If the stream produces more than one item, the promise will fail with an <code>IllegalStateException</code>.
 As soon as a second item is received, the subscription to the given publisher will be cancelled.
 <p>
 The single item is not provided to the promise subscriber until the stream completes, to ensure that it is indeed a one element stream.
 If the stream errors before sending a second item, the promise will fail with that error.
 If it fails after sending a second item, that error will be ignored.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of promised value</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publiser the convert to a promise</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a promise for the publisher's single item</dd>
</dl>
</li>
</ul>
<a name="toList-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toList</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;java.util.List&lt;T&gt;&gt;&nbsp;toList(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</pre>
<div class="block">Creates a promise for the given publisher's items as a List.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item in the stream</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the stream to collect to a list</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a promise for the streams contents as a list</dd>
</dl>
</li>
</ul>
<a name="reduce-org.reactivestreams.Publisher-java.lang.Object-ratpack.func.BiFunction-">
<!--   -->
</a><a name="reduce-org.reactivestreams.Publisher-R-ratpack.func.BiFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reduce</h4>
<pre>public static&nbsp;&lt;T,R&gt;&nbsp;<a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec">Promise</a>&lt;R&gt;&nbsp;reduce(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
                                      R&nbsp;seed,
                                      <a href="../../ratpack/func/BiFunction.html" title="interface in ratpack.func">BiFunction</a>&lt;? super R,? super T,? extends R&gt;&nbsp;reducer)</pre>
<div class="block">Reduces the stream to a single value, by applying the given function successively.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the type of result</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher to reduce</dd>
<dd><code>seed</code> - the initial value</dd>
<dd><code>reducer</code> - the reducing function</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a promise for the reduced value</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.4</dd>
</dl>
</li>
</ul>
<a name="bindExec-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bindExec</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;bindExec(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher)</pre>
<div class="block">Binds the given publisher to the current <a href="../../ratpack/exec/Execution.html" title="interface in ratpack.exec"><code>Execution</code></a>.
 <p>
 Calls <a href="../../ratpack/stream/Streams.html#bindExec-org.reactivestreams.Publisher-ratpack.func.Action-"><code>bindExec(Publisher, Action)</code></a> with <a href="../../ratpack/func/Action.html#noop--"><code>Action.noop()</code></a> as the disposer.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted by the publisher</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher to bind to the execution</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new publisher that binds the given publisher to the current execution</dd>
</dl>
</li>
</ul>
<a name="bindExec-org.reactivestreams.Publisher-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bindExec</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;bindExec(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
                                                     <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</pre>
<div class="block">Binds the given publisher to the current <a href="../../ratpack/exec/Execution.html" title="interface in ratpack.exec"><code>Execution</code></a>.
 <p>
 Publishers may emit signals asynchronously and on any thread.
 An execution bound publisher emits all of its signals (e.g. <code>onNext()</code>) on its execution (and therefore same thread).
 By binding the publisher to the execution, the execution can remain open while the publisher is emitting
 and subscribers receive signals within the execution and can therefore use <a href="../../ratpack/exec/Promise.html" title="interface in ratpack.exec"><code>Promise</code></a> etc
 and have the appropriate execution state and error handling.
 <p>
 There is a performance overhead in binding a publisher to an execution.
 It is typically only necessary to bind the last publisher in a chain to the execution.
 If the processing of items does not require execution mechanics, it can be faster to wrap the publisher subscription
 in <a href="../../ratpack/exec/Promise.html#async-ratpack.exec.Upstream-"><code>Promise.async(Upstream)</code></a> and complete the promise in the subscriber's <code>Subscriber.onComplete()</code>.
 <p>
 The given <code>disposer</code> is used to free any items that were not yet received by the subscriber when
 the subscription is cancelled, or if the subscriber errors.
 This is only required if the emitted items are reference counted (e.g. <code>ByteBuf</code>) or hold open resources (e.g. file handles).
 Any exceptions raised by the disposer will be logged then ignored.
 If items do not need disposing, pass <a href="../../ratpack/func/Action.html#noop--"><code>Action.noop()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of item emitted by the publisher</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher to bind to the execution</dd>
<dd><code>disposer</code> - the disposer of unhandled items</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new publisher that binds the given publisher to the current execution</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="fork-org.reactivestreams.Publisher-ratpack.func.Action-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fork</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;fork(org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
                                                 <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super <a href="../../ratpack/exec/ExecSpec.html" title="interface in ratpack.exec">ExecSpec</a>&gt;&nbsp;execConfig,
                                                 <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</pre>
<div class="block">Consumes the given publisher eagerly in a forked execution, buffering results until ready to be consumed by this execution.
 <p>
 This can be used when wanting to effectively parallelize the production of values and the consumption.
 The given publisher can emit items as fast as possible, independent of consumption.
 <p>
 If the given publisher emits faster than the consumer of the returned publisher,
 excessive memory may be used to buffer the items until the consumer can process them.
 <p>
 The given publisher will not be subscribed to until the returned publisher is.
 When the first <code>Subscription.request(long)</code> is issued,
 a request for <code>Long.MAX_VALUE</code> will be issued to the subscription to the given publisher.
 <p>
 The returned publisher is <a href="../../ratpack/stream/Streams.html#bindExec-org.reactivestreams.Publisher-"><code>execution bound</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher to consume as fast as possible in a forked execution</dd>
<dd><code>execConfig</code> - the configuration for the forked execution</dd>
<dd><code>disposer</code> - the disposer for any buffered items when the stream errors or is cancelled</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an execution bound publisher that propagates the items of the given publisher</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="take-long-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>take</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;take(long&nbsp;count,
                                                 org.reactivestreams.Publisher&lt;T&gt;&nbsp;upstreamPublisher)</pre>
<div class="block">Returns a publisher that emits only the first <code>n</code> elements from the given publisher, where <code>n</code> is the
 given count.
 <p>
 On emitting the required number of elements, the upstream subscription will be cancelled and the stream completed.
 <p>
 The given required number of elements is a maximum. If the upstream publisher completes before the required number
 of elements is reached, then the stream completes as normal.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>count</code> - the max number of items to emit before completing</dd>
<dd><code>upstreamPublisher</code> - the publisher to take from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that will emit a max of <code>n</code> elements</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="concat-java.lang.Iterable-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concat</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;concat(java.lang.Iterable&lt;? extends org.reactivestreams.Publisher&lt;? extends T&gt;&gt;&nbsp;publishers,
                                                   <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</pre>
<div class="block">Returns a publisher that aggregates the given publishers into a single stream of elements, without interleaving them.
 <p>
 The returned publisher obeys the following rules:
 <ul>
   <li>
    Given publishers are subscribed to lazily and in the order they are supplied.
    That is, a publisher is not subscribed to until the previous publisher has completed.
   </li>
   <li>
    Elements emitted from the given publishers are not interleaved.
   </li>
   <li>
    Only when all given publishers have signalled completion will the downstream subscriber be completed.
   </li>
 </ul>
 <p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publishers</code> - the publishers to concatenate</dd>
<dd><code>disposer</code> - the disposer of unhandled items</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that emits a single stream of elements from multiple publishers</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="concat-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concat</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;concat(java.lang.Iterable&lt;? extends org.reactivestreams.Publisher&lt;? extends T&gt;&gt;&nbsp;publishers)</pre>
<div class="block">Similar to <a href="../../ratpack/stream/Streams.html#concat-java.lang.Iterable-ratpack.func.Action-"><code>concat(Iterable, Action)</code></a>, but with a noop disposer.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publishers</code> - the publishers to concatenate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that emits a single stream of elements from multiple publishers</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="batch-int-org.reactivestreams.Publisher-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batch</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;batch(int&nbsp;batchSize,
                                                  org.reactivestreams.Publisher&lt;T&gt;&nbsp;publisher,
                                                  <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</pre>
<div class="block">Batches and serialised demand.
 <p>
 Subscribers often request items one at a time.
 This can cause inefficient data fetching patterns in publishers (e.g fetching one row at a time from a database result set).
 Such publishers can be wrapped in a batch publisher, which transforms demand into regular sizes.
 <p>
 Excess items are buffered until the subscriber wants them.
 Therefore, using a very large batch size with a very slow subscriber may require significant memory.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>batchSize</code> - the batch size</dd>
<dd><code>publisher</code> - the publisher to issue request to in batches</dd>
<dd><code>disposer</code> - the disposer of unhandled items (e.g. buffered, unwanted, items)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that batches requests upstream</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="flatten-org.reactivestreams.Publisher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flatten</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;flatten(org.reactivestreams.Publisher&lt;? extends org.reactivestreams.Publisher&lt;T&gt;&gt;&nbsp;publisher)</pre>
<div class="block">Creates a single publisher from a publisher of publishers.
 <p>
 Delegates to <a href="../../ratpack/stream/Streams.html#flatten-org.reactivestreams.Publisher-ratpack.func.Action-"><code>flatten(Publisher, Action)</code></a> with <a href="../../ratpack/func/Action.html#noop--"><code>Action.noop()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher of publishers</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that flattens the given publisher</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
<a name="flatten-org.reactivestreams.Publisher-ratpack.func.Action-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>flatten</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;<a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream">TransformablePublisher</a>&lt;T&gt;&nbsp;flatten(org.reactivestreams.Publisher&lt;? extends org.reactivestreams.Publisher&lt;T&gt;&gt;&nbsp;publisher,
                                                    <a href="../../ratpack/func/Action.html" title="interface in ratpack.func">Action</a>&lt;? super T&gt;&nbsp;disposer)</pre>
<div class="block">Creates a single publisher from a publisher of publishers.
 <p>
 Each emitted publisher is delegated to until it completes,
 upon which the next publisher will be requested and the actual demand delegated to it and so forth.

 <pre class="java"><code>import org.reactivestreams.Publisher;
 import ratpack.stream.Streams;
 import ratpack.test.exec.ExecHarness;

 import java.util.List;

 import static java.util.Arrays.asList;
 import static org.junit.Assert.assertEquals;

 public class Example {

   public static void main(String... args) throws Exception {
     List&lt;Integer&gt; value = ExecHarness.yieldSingle(e -&gt; {
       Publisher&lt;Integer&gt; p1 = Streams.publish(asList(1, 2));
       Publisher&lt;Integer&gt; p2 = Streams.publish(asList(3, 4));
       Publisher&lt;Publisher&lt;Integer&gt;&gt; nested = Streams.publish(asList(p1, p2));

       Publisher&lt;Integer&gt; flattened = Streams.flatten(nested);
       return Streams.toList(flattened);
     }).getValueOrThrow();

     assertEquals(asList(1, 2, 3, 4), value);
   }
 }
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of emitted item</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>publisher</code> - the publisher of publishers</dd>
<dd><code>disposer</code> - the disposer of unhandled items (e.g. buffered, unwanted, items)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a publisher that flattens the given publisher</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../ratpack/stream/StreamMapper.html" title="interface in ratpack.stream"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../ratpack/stream/TransformablePublisher.html" title="interface in ratpack.stream"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ratpack/stream/Streams.html" target="_top">Frames</a></li>
<li><a href="Streams.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
